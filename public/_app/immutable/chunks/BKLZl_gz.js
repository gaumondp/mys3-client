import{h as M,a as L,al as _,aa as y,V as S,j as g,O as w,u as b,ad as $,aK as j,aL as z}from"./DOgSbcbg.js";import{w as T,g as O,r as P}from"./BKieA_uR.js";function U(s,t,e,i,n){M&&L();var o=t.$$slots?.[e],r=!1;o===!0&&(o=t[e==="default"?"children":e],r=!0),o===void 0?n!==null&&n(s):o(s,r?()=>i:i)}function k(s){const t={};s.children&&(t.default=!0);for(const e in s.$$slots)t[e]=!0;return t}function F(s,t){var e=s.$$events?.[t.type],i=_(e)?e.slice():e==null?[]:[e];for(var n of i)n.call(this,t)}function J(...s){return s.filter(Boolean).join(" ")}const C=typeof document<"u";let v=0;class R{#t=y(S([]));get toasts(){return g(this.#t)}set toasts(t){w(this.#t,t,!0)}#e=y(S([]));get heights(){return g(this.#e)}set heights(t){w(this.#e,t,!0)}#s=t=>{const e=this.toasts.findIndex(i=>i.id===t);return e===-1?null:e};addToast=t=>{C&&this.toasts.unshift(t)};updateToast=({id:t,data:e,type:i,message:n})=>{const o=this.toasts.findIndex(a=>a.id===t),r=this.toasts[o];this.toasts[o]={...r,...e,id:t,title:n,type:i,updated:!0}};create=t=>{const{message:e,...i}=t,n=typeof t?.id=="number"||t.id&&t.id?.length>0?t.id:v++,o=t.dismissable===void 0?!0:t.dismissable,r=t.type===void 0?"default":t.type;return b(()=>{this.toasts.find(f=>f.id===n)?this.updateToast({id:n,data:t,type:r,message:e,dismissable:o}):this.addToast({...i,id:n,title:e,dismissable:o,type:r})}),n};dismiss=t=>(b(()=>{if(t===void 0){this.toasts=this.toasts.map(i=>({...i,dismiss:!0}));return}const e=this.toasts.findIndex(i=>i.id===t);this.toasts[e]&&(this.toasts[e]={...this.toasts[e],dismiss:!0})}),t);remove=t=>{if(t===void 0){this.toasts=[];return}const e=this.#s(t);if(e!==null)return this.toasts.splice(e,1),t};message=(t,e)=>this.create({...e,type:"default",message:t});error=(t,e)=>this.create({...e,type:"error",message:t});success=(t,e)=>this.create({...e,type:"success",message:t});info=(t,e)=>this.create({...e,type:"info",message:t});warning=(t,e)=>this.create({...e,type:"warning",message:t});loading=(t,e)=>this.create({...e,type:"loading",message:t});promise=(t,e)=>{if(!e)return;let i;e.loading!==void 0&&(i=this.create({...e,promise:t,type:"loading",message:typeof e.loading=="string"?e.loading:e.loading()}));const n=t instanceof Promise?t:t();let o=i!==void 0;return n.then(r=>{if(typeof r=="object"&&r&&"ok"in r&&typeof r.ok=="boolean"&&!r.ok){o=!1;const a=H(r);this.create({id:i,type:"error",message:a})}else if(e.success!==void 0){o=!1;const a=typeof e.success=="function"?e.success(r):e.success;this.create({id:i,type:"success",message:a})}}).catch(r=>{if(e.error!==void 0){o=!1;const a=typeof e.error=="function"?e.error(r):e.error;this.create({id:i,type:"error",message:a})}}).finally(()=>{o&&(this.dismiss(i),i=void 0),e.finally?.()}),i};custom=(t,e)=>{const i=e?.id||v++;return this.create({component:t,id:i,...e}),i};removeHeight=t=>{this.heights=this.heights.filter(e=>e.toastId!==t)};setHeight=t=>{const e=this.#s(t.toastId);if(e===null){this.heights.push(t);return}this.heights[e]=t};reset=()=>{this.toasts=[],this.heights=[]}}function H(s){return s&&typeof s=="object"&&"status"in s?`HTTP error! Status: ${s.status}`:`Error! ${s}`}const u=new R;function V(s,t){return u.create({message:s,...t})}class N{#t=$(()=>u.toasts.filter(t=>!t.dismiss));get toasts(){return g(this.#t)}}const A=V,Y=Object.assign(A,{success:u.success,info:u.info,warning:u.warning,error:u.error,custom:u.custom,message:u.message,promise:u.promise,dismiss:u.dismiss,loading:u.loading,getActiveToasts:()=>u.toasts.filter(s=>!s.dismiss)}),I="modalStore";function q(){const s=j(I);if(!s)throw new Error("modalStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return s}function G(){const s=B();return z(I,s)}function B(){const{subscribe:s,set:t,update:e}=T([]);return{subscribe:s,set:t,update:e,trigger:i=>e(n=>(n.push(i),n)),close:()=>e(i=>(i.length>0&&i.shift(),i)),clear:()=>t([])}}const h={};function x(s){return s==="local"?localStorage:sessionStorage}function m(s,t,e){const i=JSON,n="local";function o(r,a){x(n).setItem(r,i.stringify(a))}if(!h[s]){const r=T(t,c=>{const d=x(n).getItem(s);d&&c(i.parse(d));{const p=l=>{l.key===s&&c(l.newValue?i.parse(l.newValue):null)};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)}}),{subscribe:a,set:f}=r;h[s]={set(c){o(s,c),f(c)},update(c){const d=c(O(r));o(s,d),f(d)},subscribe:a}}return h[s]}m("modeOsPrefers",!1);m("modeUserPrefers",void 0);m("modeCurrent",!1);const E="(prefers-reduced-motion: reduce)";function D(){return window.matchMedia(E).matches}const W=P(D(),s=>{{const t=i=>{s(i.matches)},e=window.matchMedia(E);return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}});export{N as S,U as a,F as b,u as c,J as d,q as g,G as i,W as p,k as s,Y as t};
