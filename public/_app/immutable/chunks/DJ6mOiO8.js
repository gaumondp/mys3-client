import{q as H,b as Y,ah as P,a4 as B,e as D,h as g,aa as J,ao as Q,ap as W,aq as X,ar as m,as as x,at as ee,au as re,av as te,j as se,aw as ae,s as U,ax as ie}from"./CeJ3nYLY.js";import{i as fe,c as ue,d as oe,n as le,a as ce}from"./QpH9iBTp.js";import{t as ne,c as _e,s as ve}from"./BwyqBuiR.js";function de(e,r){if(r){const t=document.body;e.autofocus=!0,H(()=>{document.activeElement===t&&e.focus()})}}let V=!1;function be(){V||(V=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const r of e.target.elements)r.__on_r?.()})},{capture:!0}))}function he(e,r){var t=void 0,s;Y(()=>{t!==(t=r())&&(s&&(P(s),s=null),t&&(s=B(()=>{D(()=>t(e))})))})}function O(e,r={},t,s){for(var a in t){var _=t[a];r[a]!==_&&(t[a]==null?e.style.removeProperty(a):e.style.setProperty(a,_,s))}}function ye(e,r,t,s){var a=e.__style;if(g||a!==r){var _=ne(r,s);(!g||_!==e.getAttribute("style"))&&(_==null?e.removeAttribute("style"):e.style.cssText=_),e.__style=r}else s&&(Array.isArray(s)?(O(e,t?.[0],s[0]),O(e,t?.[1],s[1],"important")):O(e,t,s));return s}function C(e,r,t=!1){if(e.multiple){if(r==null)return;if(!J(r))return Q();for(var s of e.options)s.selected=r.includes(j(s));return}for(s of e.options){var a=j(s);if(W(a,r)){s.selected=!0;return}}(!t||r!==void 0)&&(e.selectedIndex=-1)}function pe(e){var r=new MutationObserver(()=>{C(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),X(()=>{r.disconnect()})}function j(e){return"__value"in e?e.__value:e.value}const w=Symbol("class"),N=Symbol("style"),G=Symbol("is custom element"),K=Symbol("is html");function ge(e){if(g){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;I(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var a=e.checked;I(e,"checked",null),e.checked=a}}};e.__on_r=t,H(t),be()}}function we(e,r){var t=M(e);t.value===(t.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function Ae(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function I(e,r,t,s){var a=M(e);g&&(a[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||a[r]!==(a[r]=t)&&(r==="loading"&&(e[re]=t),t==null?e.removeAttribute(r):typeof t!="string"&&z(e).includes(r)?e[r]=t:e.setAttribute(r,t))}function Se(e,r,t,s,a=!1,_=!1){if(g&&a&&e.tagName==="INPUT"){var b=e,L=b.type==="checkbox"?"defaultChecked":"defaultValue";L in t||ge(b)}var h=M(e),v=h[G],y=!h[K];let A=g&&v;A&&U(!1);var u=r||{},S=e.tagName==="OPTION";for(var d in r)d in t||(t[d]=null);t.class?t.class=_e(t.class):t.class=null,t[N]&&(t.style??=null);var T=z(e);for(const i in t){let f=t[i];if(S&&i==="value"&&f==null){e.value=e.__value="",u[i]=f;continue}if(i==="class"){var E=e.namespaceURI==="http://www.w3.org/1999/xhtml";ve(e,E,f,s,r?.[w],t[w]),u[i]=f,u[w]=t[w];continue}if(i==="style"){ye(e,f,r?.[N],t[N]),u[i]=f,u[N]=t[N];continue}var c=u[i];if(!(f===c&&!(f===void 0&&e.hasAttribute(i)))){u[i]=f;var $=i[0]+i[1];if($!=="$$")if($==="on"){const n={},p="$$"+i;let o=i.slice(2);var k=ce(o);if(fe(o)&&(o=o.slice(0,-7),n.capture=!0),!k&&c){if(f!=null)continue;e.removeEventListener(o,u[p],n),u[p]=null}if(f!=null)if(k)e[`__${o}`]=f,oe([o]);else{let F=function(Z){u[i].call(this,Z)};u[p]=ue(o,e,F,n)}else k&&(e[`__${o}`]=void 0)}else if(i==="style")I(e,i,f);else if(i==="autofocus")de(e,!!f);else if(!v&&(i==="__value"||i==="value"&&f!=null))e.value=e.__value=f;else if(i==="selected"&&S)Ae(e,f);else{var l=i;y||(l=le(l));var R=l==="defaultValue"||l==="defaultChecked";if(f==null&&!v&&!R)if(h[i]=null,l==="value"||l==="checked"){let n=e;const p=r===void 0;if(l==="value"){let o=n.defaultValue;n.removeAttribute(l),n.defaultValue=o,n.value=n.__value=p?o:null}else{let o=n.defaultChecked;n.removeAttribute(l),n.defaultChecked=o,n.checked=p?o:!1}}else e.removeAttribute(i);else R||T.includes(l)&&(v||typeof f!="string")?(e[l]=f,l in h&&(h[l]=ie)):typeof f!="function"&&I(e,l,f)}}}return A&&U(!0),u}function Ie(e,r,t=[],s=[],a=[],_,b=!1,L=!1){te(a,t,s,h=>{var v=void 0,y={},A=e.nodeName==="SELECT",u=!1;if(Y(()=>{var d=r(...h.map(se)),T=Se(e,v,d,_,b,L);u&&A&&"value"in d&&C(e,d.value);for(let c of Object.getOwnPropertySymbols(y))d[c]||P(y[c]);for(let c of Object.getOwnPropertySymbols(d)){var E=d[c];c.description===ae&&(!v||E!==v[c])&&(y[c]&&P(y[c]),y[c]=B(()=>he(e,()=>E))),T[c]=E}v=T}),A){var S=e;D(()=>{C(S,v.value,!0),pe(S)})}u=!0})}function M(e){return e.__attributes??={[G]:e.nodeName.includes("-"),[K]:e.namespaceURI===m}}var q=new Map;function z(e){var r=e.getAttribute("is")||e.nodeName,t=q.get(r);if(t)return t;q.set(r,t=[]);for(var s,a=e,_=Element.prototype;_!==a;){s=ee(a);for(var b in s)s[b].set&&t.push(b);a=x(a)}return t}export{N as S,I as a,ye as b,Ie as c,ge as r,we as s};
